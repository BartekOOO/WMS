<div th:fragment="fragment" xmlns:th="http://www.thymeleaf.org">

    <section class="card">
        <header class="card-h">
            <div style="display:flex;flex-direction:column;gap:4px;min-width:0">
                <h2>Nowy pracownik</h2>
                <div style="color:rgba(255,255,255,0.65);font-size:.92rem">Tryb: dodawanie</div>
            </div>

            <div class="card-actions">
                <a class="chip" th:href="@{/Employees/GetEmployees}">WrÃ³Ä‡</a>
            </div>
        </header>

        <div class="card-b">

            <div class="alert-glass alert-glass--success" th:if="${success != null}">
                <div class="alert-glass__icon">âœ“</div>
                <div class="alert-glass__content">
                    <div class="alert-glass__title">Sukces</div>
                    <div class="alert-glass__msg" th:text="${success}">Operacja zakoÅ„czona powodzeniem.</div>
                </div>
            </div>

            <div class="alert-glass alert-glass--danger" th:if="${error != null}">
                <div class="alert-glass__icon">!</div>
                <div class="alert-glass__content">
                    <div class="alert-glass__title">Nie udaÅ‚o siÄ™ dodaÄ‡ pracownika</div>
                    <div class="alert-glass__msg" th:text="${error}">WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisu.</div>
                </div>
            </div>

            <form th:object="${command}"
                  th:action="@{/Employees/RegisterEmployee}"
                  method="post"
                  style="display:grid;gap:14px">

                <div class="alert-glass alert-glass--danger"
                     th:if="${#fields.hasAnyErrors()}"
                     style="margin-bottom:12px">
                    <div class="alert-glass__icon">!</div>
                    <div class="alert-glass__content">
                        <div class="alert-glass__title">Popraw bÅ‚Ä™dy w formularzu</div>
                        <div class="alert-glass__msg">
                            <ul style="margin:0;padding-left:18px">
                                <li th:each="e : ${#fields.allErrors()}" th:text="${e}">BÅ‚Ä…d</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">

                    <div>
                        <label class="form-label" for="firstName">ImiÄ™</label>
                        <input id="firstName" class="form-input"
                               th:field="*{employee.firstName}"
                               placeholder="np. Jan"/>
                        <div class="form-err"
                             th:if="${#fields.hasErrors('employee.firstName')}"
                             th:errors="*{employee.firstName}"></div>
                    </div>

                    <div>
                        <label class="form-label" for="lastName">Nazwisko</label>
                        <input id="lastName" class="form-input"
                               th:field="*{employee.lastName}"
                               placeholder="np. Kowalski"/>
                        <div class="form-err"
                             th:if="${#fields.hasErrors('employee.lastName')}"
                             th:errors="*{employee.lastName}"></div>
                    </div>

                    <div style="grid-column:1 / -1">
                        <label class="form-label" for="email">Email</label>
                        <input id="email" class="form-input"
                               type="email"
                               th:field="*{employee.email}"
                               placeholder="np. jan.kowalski@firma.pl"/>
                        <div class="form-hint">Za pomocÄ… adresu email moÅ¼na odzyskaÄ‡ konto.</div>
                        <div class="form-err"
                             th:if="${#fields.hasErrors('employee.email')}"
                             th:errors="*{employee.email}"></div>
                    </div>

                    <div style="grid-column:1 / -1">
                        <label class="form-label" for="phone">Telefon</label>
                        <input id="phone" class="form-input mono"
                               th:field="*{employee.phone}"
                               placeholder="+48 123 456 789"/>
                        <div class="form-hint">Opcjonalnie.</div>
                        <div class="form-err"
                             th:if="${#fields.hasErrors('employee.phone')}"
                             th:errors="*{employee.phone}"></div>
                    </div>

                </div>

                <div class="alert-glass"
                     style="border:1px solid rgba(255,255,255,0.10);background:rgba(255,255,255,0.03)">
                    <div class="alert-glass__icon">i</div>
                    <div class="alert-glass__content">
                        <div class="alert-glass__title">Konto uÅ¼ytkownika</div>
                        <div class="alert-glass__msg">
                            Konto uÅ¼ytkownika moÅ¼na zaÅ‚oÅ¼yÄ‡ po zaÅ‚oÅ¼eniu pracownika
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="chip chip--save" type="submit">ðŸ’¾ Zapisz</button>
                </div>

            </form>

        </div>
    </section>
</div>
